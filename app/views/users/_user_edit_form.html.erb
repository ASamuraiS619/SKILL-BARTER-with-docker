<%= form_with(model: user, html: { class: "needs-validation-user", novalidate: true }, local: true) do |f| %>
  <div class="form-group row">
    <%= f.label :name, "氏名", for: "validationCustom01", class: "col-md-2 col-form-label" %>
    <div class="col-md-10">
      <%= f.text_field :name, autofocus: true, id: "validationCustom01", class: "form-control", required: true %>
      <div class="invalid-feedback">
        有効な氏名を入力してください。
      </div>
    </div>
  </div>

  <div class="form-group row">
    <%= f.label :kana_name, "フリガナ", for: "validationCustom02", class: "col-md-2 col-form-label" %>
    <div class="col-md-10">
      <%= f.text_field :kana_name, id: "validationCustom02", class: "form-control", required: true %>
      <div class="invalid-feedback">
        有効なフリガナを入力してください。
      </div>
    </div>
  </div>

  <div class="form-group row">
    <%= f.label :email, "Eメール", for: "validationCustom03", class: "col-md-2 col-form-label" %><br >
    <div class="col-md-10">
      <%= f.email_field :email, autocomplete: "email", id: "validationCustom03", class: "form-control", required: true %>
      <div class="invalid-feedback">
        有効なEメールアドレスを入力してください。
      </div>
    </div>
  </div>

  <div class="form-group row">
    <%= f.label :phone_number, "電話番号", for: "validationCustom04", class: "col-md-2 col-form-label" %>
    <div class="col-md-10">
      <%= f.text_field :phone_number, placeholder: "ハイフン無し", id: "validationCustom04", class: "form-control", required: true %>
      <div class="invalid-feedback">
        有効な電話番号を入力してください。
      </div>
    </div>
  </div>

  <div class="form-group row">
    <%= f.label :birthday, "生年月日", class: "col-md-2 col-form-label" %>
    <div class="col-md-10">
      <%= f.date_field :birthday, class: "form-control" %>
    </div>
  </div>

  <div class="form-group row">
    <%= f.label :introduction, "自己紹介文", class: "col-md-2 col-form-label" %>
    <div class="col-md-10">
      <%= f.text_area :introduction, rows: 3, placeholder: "ハイフン無し", class: "form-control" %>
    </div>
  </div>

  <div class="form-group row">
    <%= f.label :profile_image, "プロフィール画像変更", class: "col-md-2 col-form-label" %>
    <div class="col-md-10">
      <%= f.file_field :profile_image_id, class: "form-control", accept: "image/*" %>
    </div>
  </div>

  <div class="row">
    <div class="col-md-9">
    </div>
    <div class="col-md-3">
      <%= f.submit "編集完了", class: "btn btn-primary btn-block" %>
    </div>
  </div>
<% end %>

<script>
// 無効なフィールドがある場合にフォーム送信を無効にするスターターJavaScriptの実例
(function() {
  'use strict';

  window.addEventListener('load', function() {
    // カスタムブートストラップ検証スタイルを適用するすべてのフォームを取得
    var forms = document.getElementsByClassName('needs-validation-user');
    // ループして帰順を防ぐ
    var validation = Array.prototype.filter.call(forms, function(form) {
      form.addEventListener('submit', function(event) {
        if (form.checkValidity() === false) {
          event.preventDefault();
          event.stopPropagation();
        }
        form.classList.add('was-validated');
      }, false);
    });
  }, false);
})();
</script>
